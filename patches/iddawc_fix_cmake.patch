diff --git a/CMakeLists.txt b/CMakeLists.txt
index 69ecd7f..75df1bb 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -20,7 +20,7 @@ project(iddawc C)
 
 set(CMAKE_C_STANDARD 99)
 if (NOT MSVC)
-    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Werror")
+    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall")
 endif()
 
 # library info
@@ -124,7 +124,7 @@ include(FindJansson)
 set(JANSSON_MIN_VERSION 2.11)
 find_package(Jansson ${JANSSON_MIN_VERSION} REQUIRED)
 if (JANSSON_FOUND)
-	set(LIBS ${LIBS} ${JANSSON_LIBRARIES})
+	set(LIBS ${LIBS} Jansson::Jansson)
 	include_directories(${JANSSON_INCLUDE_DIRS})
 endif ()
 
@@ -141,10 +141,15 @@ if (GNUTLS_FOUND)
 	set(LIBS ${LIBS} ${GNUTLS_LIBRARIES})
 	include_directories(${GNUTLS_INCLUDE_DIRS})
 endif ()
-target_link_libraries(iddawc ${LIBS})
 
 include(FindMHD)
 find_package(MHD REQUIRED)
+if (MHD_FOUND)
+	set(LIBS ${LIBS} MHD::MHD)
+	include_directories(${MHD_INCLUDE_DIRS})
+endif ()
+
+target_link_libraries(iddawc ${LIBS})
 
 set(SEARCH_ORCANIA OFF CACHE BOOL "Force to false") # Avoid to search and download orcania
 set(SEARCH_ORCANIA_U OFF CACHE BOOL "Force to false") # Avoid to search and download orcania
@@ -163,13 +168,14 @@ if (SEARCH_ORCANIA_I)
     if (NOT ORCANIA_FOUND)
         if (DOWNLOAD_DEPENDENCIES)
             include(DownloadProject)
+            message(STATUS "Download orcania ${ORCANIA_VERSION_REQUIRED}")
             download_project(PROJ orcania # ... otherwise, download archive
                              URL "https://github.com/babelouest/orcania/archive/v${ORCANIA_VERSION_REQUIRED}.tar.gz"
                              QUIET)
             add_subdirectory(${orcania_SOURCE_DIR} ${orcania_BINARY_DIR})
             include_directories(${orcania_SOURCE_DIR}/include)
             include_directories(${orcania_BINARY_DIR})
-            add_dependencies(yder orcania)
+            add_dependencies(iddawc orcania)
             set(ORCANIA_LIBRARIES orcania)
             set(LIBS ${LIBS} ${ORCANIA_LIBRARIES})
         else ()
@@ -197,6 +203,7 @@ if (SEARCH_YDER_I)
     if (NOT YDER_FOUND)
         if (DOWNLOAD_DEPENDENCIES)
             include(DownloadProject)
+            message(STATUS "Download yder ${YDER_VERSION_REQUIRED}")
             download_project(PROJ yder # ... otherwise, download archive
                               URL "https://github.com/babelouest/yder/archive/v${YDER_VERSION_REQUIRED}.tar.gz"
                               QUIET)
diff --git a/cmake-modules/FindJansson.cmake b/cmake-modules/FindJansson.cmake
index 10eea48..ba862bf 100644
--- a/cmake-modules/FindJansson.cmake
+++ b/cmake-modules/FindJansson.cmake
@@ -61,6 +61,12 @@ find_package_handle_standard_args(Jansson
 if (JANSSON_FOUND)
     set(JANSSON_LIBRARIES ${JANSSON_LIBRARY})
     set(JANSSON_INCLUDE_DIRS ${JANSSON_INCLUDE_DIR})
+    if (NOT TARGET Jansson::Jansson)
+        add_library(Jansson::Jansson UNKNOWN IMPORTED)
+        set_target_properties(Jansson::Jansson PROPERTIES
+                IMPORTED_LOCATION "${JANSSON_LIBRARY}"
+                INTERFACE_INCLUDE_DIRECTORIES "${JANSSON_INCLUDE_DIR}")
+    endif ()
 endif ()
 
 mark_as_advanced(JANSSON_INCLUDE_DIR JANSSON_LIBRARY)
\ No newline at end of file
diff --git a/cmake-modules/FindMHD.cmake b/cmake-modules/FindMHD.cmake
index 17cc20e..7515efa 100644
--- a/cmake-modules/FindMHD.cmake
+++ b/cmake-modules/FindMHD.cmake
@@ -65,6 +65,12 @@ find_package_handle_standard_args(MHD
 if (MHD_FOUND)
     set(MHD_LIBRARIES ${MHD_LIBRARY})
     set(MHD_INCLUDE_DIRS ${MHD_INCLUDE_DIR})
+    if (NOT TARGET MHD::MHD)
+        add_library(MHD::MHD UNKNOWN IMPORTED)
+        set_target_properties(MHD::MHD PROPERTIES
+                IMPORTED_LOCATION "${MHD_LIBRARY}"
+                INTERFACE_INCLUDE_DIRECTORIES "${MHD_INCLUDE_DIRS}")
+    endif ()
 endif ()
 
 mark_as_advanced(MHD_INCLUDE_DIR MHD_LIBRARY)
